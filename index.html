<!DOCTYPE html>
<html lang="hi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Shubhzone</title>

    <!-- External Fonts and Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- Main App Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&family=Caveat&display=swap" rel="stylesheet">

    <!-- CSS फ़ाइल को यहाँ लिंक किया गया है -->
    <link rel="stylesheet" href="style.css"> <!-- Replace with your CSS file name -->
</head>

<body>

    <!-- === SIDEBAR START === -->
    <div id="main-sidebar" class="main-sidebar">
        <div class="sidebar-header">
            <h3>Menu</h3>
            <span id="close-sidebar-btn" class="close-sidebar-btn haptic-trigger">×</span>
        </div>

        <div id="sidebar-profile-btn" class="sidebar-option haptic-trigger">
            <i class="fas fa-user" style="margin-right: 15px;"></i>
            <span>Profile</span>
        </div>

        <!-- ★★★ NEW: 'Saved Videos' button added to the sidebar ★★★ -->
        <div id="sidebar-saved-btn" class="sidebar-option haptic-trigger">
            <i class="fas fa-bookmark" style="margin-right: 15px;"></i>
            <span>Saved Videos</span>
        </div>

        <a href="https://shubhzone.onrender.com" target="_blank" rel="noopener noreferrer" class="premium-features-card haptic-trigger">
            <div class="premium-image-wrapper">
                <img src="https://i.ibb.co/0RF4GmTZ/Flux-Dev-A-futuristic-social-media-interface-named-Shubhzone-g-1.jpg" alt="Premium Features Image">
            </div>
            <span>Premium Features</span>
        </a>
    </div>
    <div id="sidebar-overlay" class="sidebar-overlay"></div>
    <!-- === SIDEBAR END === -->

    <!-- === ALL MODALS START === -->
    <div id="comments-modal" class="comments-modal-overlay">
        <div class="comments-modal-content">
            <div class="comments-header">
                <h4>Comments</h4>
                <span class="close-comments-btn haptic-trigger" onclick="closeCommentsModal()">×</span>
            </div>
            <ul id="comments-list"></ul>
            <div class="comment-input-container">
                <input type="text" id="comment-input" placeholder="Commenting is disabled." disabled>
                <button id="send-comment-btn" class="haptic-trigger" disabled><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>
    </div>

    <div id="image-enlarge-modal" class="modal-overlay">
        <div class="enlarged-image-content">
            <img id="enlarged-image-src" src="" alt="Enlarged View">
        </div>
    </div>
    <!-- === ALL MODALS END === -->

    <div class="app-container" id="app-container">

        <!-- === SPLASH SCREEN === -->
        <div id="splash-screen" class="screen active">
            <div class="welcome-top">
                <h1 class="welcome-text">Welcome ☁️</h1>
            </div>
            <div class="welcome-center">
                <div class="logo-container">
                    <div class="logo-ring"></div>
                    <div class="logo-icon-combo">
                        <i class="fas fa-play"></i>
                    </div>
                </div>
                <h2 class="app-name">Shubhzone</h2>
                <p class="tagline">Har Hunar ka Ghar</p>
            </div>
            <div class="welcome-bottom">
                <button id="get-started-btn" class="get-started-btn haptic-trigger">Get Started</button>
                <div id="loading-container" style="display: none;">
                    <div class="loader"></div>
                    <p style="margin-top: 10px;">Loading Videos, Please Wait...</p>
                </div>
                <p class="creator-credit-new">Made with ❤️ by Udbhav</p>
            </div>
        </div>

        <!-- === INFORMATION SCREEN === -->
        <div id="information-screen" class="screen">
            <div class="screen-header">
                <span class="header-title">Mera Shubhzone</span>
            </div>
            <div style="margin-top: 60px; width: 100%; overflow-y: auto; padding: 20px;">
                <div class="profile-image-upload">
                    <img id="profile-image-preview" src="https://via.placeholder.com/120/222/FFFFFF?text=+" alt="Profile Preview">
                    <label for="profile-image-input" class="profile-image-label haptic-trigger">
                        <i class="fas fa-camera"></i>
                    </label>
                    <input type="file" id="profile-image-input" accept="image/*">
                </div>
                <div class="input-group">
                    <label for="info-name">Name</label>
                    <input type="text" id="info-name" placeholder="Enter your name">
                </div>
                <div class="input-group">
                    <label for="info-referral">Referral ID (Optional)</label>
                    <input type="text" id="info-referral" placeholder="Enter referral ID if you have one">
                </div>
                <div class="input-group">
                    <label for="info-mobile">Mobile No.</label>
                    <input type="tel" id="info-mobile" placeholder="Enter your mobile number">
                </div>
                <div class="input-group">
                    <label for="info-email">Email ID</label>
                    <input type="email" id="info-email" placeholder="Enter your email">
                </div>
                <div class="input-group">
                    <label for="info-address">Address</label>
                    <input type="text" id="info-address" placeholder="Enter your address">
                </div>
                <div class="input-group">
                    <label for="info-hobby">Hobby</label>
                    <input type="text" id="info-hobby" placeholder="e.g., Reading, Gaming, Coding">
                </div>
                <div class="input-group">
                    <label for="info-state">State</label>
                    <select id="info-state" onchange="checkCustom(this, 'custom-state-input')">
                        <option value="">Select State</option>
                        <option value="Andhra Pradesh">Andhra Pradesh</option>
                        <option value="Delhi">Delhi</option>
                        <option value="Gujarat">Gujarat</option>
                        <option value="Karnataka">Karnataka</option>
                        <option value="Maharashtra">Maharashtra</option>
                        <option value="Rajasthan">Rajasthan</option>
                        <option value="Tamil Nadu">Tamil Nadu</option>
                        <option value="Uttar Pradesh">Uttar Pradesh</option>
                        <option value="West Bengal">West Bengal</option>
                        <option value="custom">Other</option>
                    </select>
                    <input type="text" id="custom-state-input" class="custom-input" placeholder="Please specify your state">
                </div>
                <div class="input-group">
                    <label for="info-country">Country</label>
                    <select id="info-country" onchange="checkCustom(this, 'custom-country-input')">
                        <option value="India">India</option>
                        <option value="custom">Custom</option>
                    </select>
                    <input type="text" id="custom-country-input" class="custom-input" placeholder="Please specify your country">
                </div>
                <div class="button-container">
                    <button id="save-continue-btn" class="continue-btn haptic-trigger" onclick="saveAndContinue()">Continue</button>
                    <button class="logout-btn haptic-trigger" onclick="logoutUser()">Logout</button>
                </div>
            </div>
        </div>

        <!-- === SHORTS SCREEN (Previously Home) === -->
        <div id="home-screen" class="screen">
            <div class="home-top-bar">
                <div id="home-menu-icon" class="home-menu-icon haptic-trigger">
                    <i class="fas fa-bars"></i>
                </div>
                <div id="category-scroller" class="category-scroller"></div>
            </div>
            <div id="video-swiper">
                <div id="home-static-message-container" style="display: flex;">
                    <p class="static-message">Loading shorts...</p>
                </div>
            </div>
            <div class="bottom-nav">
                <div class="nav-item" data-nav="long-video"><i class="fas fa-video"></i>Long Video</div>
                <div class="nav-item" data-nav="shorts"><i class="fas fa-compact-disc"></i>Shorts</div>
                <div class="nav-item" data-nav="reward"><i class="fas fa-gift"></i>Reward</div>
                <div class="nav-item" data-nav="friends"><i class="fas fa-user-friends"></i>Friends</div>
                <div class="nav-item" data-nav="profile" style="display: none;"><i class="fas fa-user"></i>Profile</div>
            </div>
        </div>

        <!-- === LONG VIDEO SCREEN === -->
        <div id="long-video-screen" class="screen">
            <div class="long-video-screen-content">
                <div id="long-video-top-bar">
                    <div id="long-video-menu-icon" class="home-menu-icon haptic-trigger">
                        <i class="fas fa-bars"></i>
                    </div>
                    <div id="long-video-category-scroller" class="category-scroller"></div>
                </div>
                <div id="long-video-carousel-container">
                    <div id="long-video-carousel-wrapper"></div>
                </div>
                <div class="long-video-search-container">
                    <input type="text" id="long-video-search-input" placeholder="Search or paste YouTube link...">
                    <button id="long-video-search-btn" class="haptic-trigger"><i class="fas fa-search"></i></button>
                    <button id="long-video-history-btn" class="haptic-trigger"><i class="fas fa-history"></i></button>
                </div>
                <div id="long-video-grid"></div>
                <!-- Load More button is dynamically added here by script.js -->
            </div>
            <div class="bottom-nav">
                <div class="nav-item active" data-nav="long-video"><i class="fas fa-video"></i>Long Video</div>
                <div class="nav-item" data-nav="shorts"><i class="fas fa-compact-disc"></i>Shorts</div>
                <div class="nav-item" data-nav="reward"><i class="fas fa-gift"></i>Reward</div>
                <div class="nav-item" data-nav="friends"><i class="fas fa-user-friends"></i>Friends</div>
                <div class="nav-item" data-nav="profile" style="display: none;"><i class="fas fa-user"></i>Profile</div>
            </div>
        </div>

        <!-- === HISTORY SCREEN === -->
        <div id="history-screen" class="screen">
            <div class="history-content">
                <div id="history-top-bar">
                    <div id="back-from-history-btn" class="home-menu-icon haptic-trigger">
                        <i class="fas fa-arrow-left"></i>
                    </div>
                    <span class="header-title">Watch History</span>
                    <button id="history-date-button" class="haptic-trigger">Clear All</button>
                </div>
                <div class="history-section-title">Recently Watched Shorts</div>
                <div id="history-shorts-scroller"></div>
                <div class="history-section-title">Watched Videos</div>
                <div id="history-long-video-list"></div>
            </div>
            <div class="bottom-nav">
                <div class="nav-item" data-nav="long-video"><i class="fas fa-video"></i>Long Video</div>
                <div class="nav-item" data-nav="shorts"><i class="fas fa-compact-disc"></i>Shorts</div>
                <div class="nav-item" data-nav="reward"><i class="fas fa-gift"></i>Reward</div>
                <div class="nav-item" data-nav="friends"><i class="fas fa-user-friends"></i>Friends</div>
                <div class="nav-item" data-nav="profile" style="display: none;"><i class="fas fa-user"></i>Profile</div>
            </div>
        </div>

        <!-- === FRIENDS SCREEN === -->
        <div id="friends-screen" class="screen">
            <div class="friends-top-bar">
                <div class="tab-bar">
                    <button class="tab-button active" data-tab="add">Add Friends</button>
                    <button class="tab-button" data-tab="requests">Requests</button>
                    <button class="tab-button" data-tab="members">Members</button>
                </div>
            </div>
            <main class="content-area">
                <div class="tab-content" id="add-content">
                    <div class="add-friend-search-container">
                        <input type="text" id="add-friend-search-input" placeholder="Search by Name or @ID">
                        <button id="add-friend-search-btn" class="haptic-trigger">Search</button>
                    </div>
                    <div id="add-friend-user-list"></div>
                </div>
                <div class="tab-content hidden" id="requests-content"></div>
                <div class="tab-content hidden" id="members-content"></div>
            </main>

            <div class="chat-screen" id="chat-screen-overlay">
                <header class="chat-app-bar">
                    <button class="icon-button back-arrow haptic-trigger"><i class="fas fa-arrow-left"></i></button>
                    <div class="profile-pic"><img src="" alt="Chat User Avatar" id="chat-user-profile-pic"></div>
                    <div class="username" id="chat-username"></div>
                </header>
                <div class="chat-messages" id="chat-messages"></div>
                <div class="chat-input-bar">
                    <input type="text" class="input-field" placeholder="Message...">
                    <button class="send-button haptic-trigger" id="send-button"><i class="fas fa-paper-plane"></i></button>
                </div>
            </div>

            <div class="bottom-nav">
                <div class="nav-item" data-nav="long-video"><i class="fas fa-video"></i>Long Video</div>
                <div class="nav-item" data-nav="shorts"><i class="fas fa-compact-disc"></i>Shorts</div>
                <div class="nav-item" data-nav="reward"><i class="fas fa-gift"></i>Reward</div>
                <div class="nav-item active" data-nav="friends"><i class="fas fa-user-friends"></i>Friends</div>
                <div class="nav-item" data-nav="profile" style="display: none;"><i class="fas fa-user"></i>Profile</div>
            </div>
        </div>

        <!-- === PROFILE SCREEN (Accessed via Sidebar) === -->
        <div id="profile-screen" class="screen">
            <div id="profile-header-new">
                <img id="profile-header-avatar" src="https://via.placeholder.com/50/222/FFFFFF?text=+" alt="Avatar">
                <button id="profile-your-zone-btn" class="haptic-trigger">Edit Profile</button>
            </div>
            <div id="profile-video-toggle-buttons">
                <button id="profile-show-shorts-btn" class="profile-toggle-btn active haptic-trigger">Short Video</button>
                <button id="profile-show-longs-btn" class="profile-toggle-btn haptic-trigger">Long Video</button>
            </div>
            <div id="profile-video-content">
                <div id="user-short-video-grid"></div>
                <div id="user-long-video-grid" style="display: none;"></div>
            </div>
        </div>

        <!-- === CREATOR PAGE SCREEN === -->
        <div id="creator-page-screen" class="screen">
            <div class="screen-header">
                <div class="header-icon-left haptic-trigger" onclick="navigateBack()"><i class="fas fa-arrow-left"></i></div>
                <div id="creator-page-tabs"></div>
            </div>
            <div id="creator-page-content" class="content-area">
                <!-- Content injected by JS -->
            </div>
        </div>

        <!-- === REWARD SCREEN === -->
        <div id="reward-screen" class="screen">
            <div class="reward-header">
                <span class="header-title">Reward</span>
                <button id="wallet-icon-button" class="wallet-icon-button haptic-trigger">
                    <i class="fas fa-wallet"></i>
                </button>
            </div>
            <div class="content-area">
                <!-- Reward content (timer/scratch card) injected by JS -->
            </div>
            <div class="bottom-nav">
                <div class="nav-item" data-nav="long-video"><i class="fas fa-video"></i>Long Video</div>
                <div class="nav-item" data-nav="shorts"><i class="fas fa-compact-disc"></i>Shorts</div>
                <div class="nav-item active" data-nav="reward"><i class="fas fa-gift"></i>Reward</div>
                <div class="nav-item" data-nav="friends"><i class="fas fa-user-friends"></i>Friends</div>
                <div class="nav-item" data-nav="profile" style="display: none;"><i class="fas fa-user"></i>Profile</div>
            </div>
        </div>

        <!-- === WALLET SCREEN === -->
        <div id="wallet-screen" class="screen">
            <div class="screen-header">
                <div class="header-icon-left haptic-trigger" onclick="navigateBack()"><i class="fas fa-arrow-left"></i></div>
                <span class="header-title">My Wallet</span>
            </div>
            <div class="content-area">
                <div class="wallet-balance-display">
                    <p>Current Balance</p>
                    <h2 id="wallet-balance">₹0.00</h2>
                </div>
                <div class="wallet-input-group">
                    <label for="upi-id-input">UPI ID</label>
                    <input type="text" id="upi-id-input" placeholder="Enter your UPI ID">
                </div>
                <div class="wallet-input-group">
                    <label for="mobile-no-input">Registered Mobile No.</label>
                    <input type="tel" id="mobile-no-input" placeholder="Enter your mobile number">
                </div>
                <button id="withdraw-btn" class="haptic-trigger">Withdraw (Min ₹50)</button>
            </div>
        </div>

        <!-- ★★★ NEW: 'Saved Videos' Screen Container ★★★ -->
        <div id="saved-videos-screen" class="screen">
            <div class="saved-videos-header">
                <div class="header-icon-left haptic-trigger" onclick="navigateBack()"><i class="fas fa-arrow-left"></i></div>
                <div class="saved-videos-toggle-container">
                    <button id="saved-toggle-long" class="saved-video-toggle-btn haptic-trigger" onclick="toggleSavedVideoView('long')">Long Videos</button>
                    <button id="saved-toggle-short" class="saved-video-toggle-btn haptic-trigger" onclick="toggleSavedVideoView('short')">Shorts</button>
                </div>
            </div>
            <div class="content-area">
                <div id="saved-long-videos" style="display: none;"></div>
                <div id="saved-short-videos" style="display: none;"></div>
            </div>
        </div>

    </div> <!-- End of .app-container -->

    <!-- === SCRIPTS (MUST BE AT THE END) === -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-storage.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-analytics.js"></script>
    <script src="https://www.youtube.com/iframe_api"></script>

    <!-- JavaScript फ़ाइल को यहाँ लिंक किया गया है -->
    <script src="script.js"></script> <!-- Replace with your JS file name -->

    <script>
        const setAppHeight = () => {
            const doc = document.documentElement;
            doc.style.setProperty('--app-height', `${window.innerHeight}px`);
        };
        window.addEventListener('resize', setAppHeight);
        setAppHeight();
    </script>

</body>
</html>
